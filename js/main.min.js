!function(a){a.fn.webapp=function(b){return this.each(function(){var c={options:a.extend({},b),elements:{parent:null,modal:null,messages:null,banner:null,forms:null},init:function(a){var b=this;if(this.elements.parent=a,this.elements.modal=a.find("#modal"),this.elements.messages=a.find("#messages"),this.elements.banner=a.find("#banner"),this.elements.forms=a.find("form"),this.elements.messages.length){setTimeout(function(){b.elements.messages.addClass("js-hidden")},2e3)}this.bindEvents()},bindEvents:function(){var b=this;this.elements.banner.length&&this.elements.banner.on("click",".header-menu",function(a){a.preventDefault(),b.elements.banner.find(".nav-main").toggle()}),this.elements.modal.length&&this.elements.parent.on("click","a.modal",function(c){c.stopPropagation(),c.preventDefault();var d=a(this).attr("href").split("#");d[1]||(d[1]=d[0],d[0]=null);var e=b.elements.modal.find("#"+d[1]);!e.length&&d[0]?a.get(d[0]+"?ajax",function(a){b.elements.modal.find("aside").append(a.replace(/<section/,'<section id="'+d[1]+'"')),b.openModal(b.elements.modal.find("#"+d[1]))}):e.length&&b.openModal(e)}).on("click","#modal section",function(a){a.stopPropagation()}).on("click","#modal",function(){b.elements.modal.hide(),b.elements.modal.find("section").hide()}),this.elements.forms.length&&this.elements.forms.on("click",".js-input-linked",function(){var c=b.elements.form.find(a(this).attr("input-linked"));c.length&&c.val(a(this).val())})},openModal:function(b){b.length&&(this.elements.modal.find("section").hide(),this.elements.modal.css({width:a(document).width(),height:a(document).height()}).show(),b.css({left:(a(document).width()-b.width())/2}).show().find(":input:first").focus())}};c.init(a(this))})}}(jQuery),$(document).ready(function(){$("body").webapp({})});